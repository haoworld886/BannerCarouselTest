# BannerCarousel iOS App

## ğŸ“– å°ˆæ¡ˆæ¦‚è¿°

BannerCarousel æ˜¯ä¸€å€‹æ¡ç”¨ **Swift 5**ã€**UIKit** å’Œ **MVC æ¶æ§‹**é–‹ç™¼çš„ Banner è¼ªæ’­å…ƒä»¶ã€‚

**é–‹ç™¼ç’°å¢ƒ**: iOS 12.0+ | Swift 5.0+ | Xcode 12.0+

---

### ğŸ—ï¸ æ¶æ§‹è¨­è¨ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ViewController                        â”‚  â† ä¸»æ§åˆ¶å™¨
â”‚  - æ•´åˆ BannerCarouselView                               â”‚
â”‚  - è™•ç†ç”Ÿå‘½é€±æœŸ                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      BannerCarouselView (ä¸»è¦–åœ–)            â”‚
        â”‚  - titleLabel                               â”‚
        â”‚  - scrollView (UIScrollView)                â”‚
        â”‚  - pageControl                              â”‚
        â”‚  - autoScrollTimer                          â”‚
        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚          â”‚            â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚DataManager â”‚ImageCacheâ”‚  â”‚ AsyncImageView â”‚ (å¤šå€‹)
       â”‚(å–®ä¾‹)     â”‚â”‚ Manager  â”‚  â”‚- éåŒæ­¥è¼‰å…¥     â”‚
       â”‚- JSONè¼‰å…¥ â”‚â”‚(å–®ä¾‹)    â”‚  â”‚- é¡¯ç¤ºç‹€æ…‹       â”‚
       â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  BannerDataModel           â”‚
    â”‚  - BannerData (Codable)    â”‚
    â”‚  - TagInfo                 â”‚
    â”‚  - DraftInfo               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”§ è¨­è¨ˆæ¨¡å¼æ‡‰ç”¨

| æ¨¡å¼ | æ‡‰ç”¨å ´æ™¯ | æª”æ¡ˆä½ç½® |
|-----|---------|---------|
| **Singleton** | DataManagerã€ImageCacheManager | DataManager.swift:50, AsyncImageView.swift:288 |
| **MVC** | è¦–åœ–/æ§åˆ¶å™¨/æ¨¡å‹åˆ†é›¢ | æ•´é«”æ¶æ§‹ |
| **Delegate** | UIScrollViewDelegate è™•ç†æ»¾å‹•äº‹ä»¶ | BannerCarouselView.swift:561-600 |
| **Observer** | NotificationCenter ç›£è½ç”Ÿå‘½é€±æœŸ | BannerCarouselView.swift:116-176 |

---


### è³‡æ–™æµç¨‹

```
JSON æª”æ¡ˆ (æ¸¬é©—è³‡æ–™.json)
    â†“
DataManager.loadBannerData()           [èƒŒæ™¯åŸ·è¡Œç·’è¼‰å…¥]
    â†“
JSONDecoder.decode(BannerData.self)    [ä¸»åŸ·è¡Œç·’è§£æ]
    â†“
DataFilter.filterDraftData()           [ä¾ TagNo ç¯©é¸]
    â†“
BannerCarouselView.configureBanner()   [å»ºç«‹ UI]
    â†“
AsyncImageView.loadImage()             [éåŒæ­¥è¼‰å…¥åœ–ç‰‡]
    â†“
ImageCacheManager.setImage()           [å¿«å–ç®¡ç†]
```




#### ä¸‰é é¢ç„¡é™æ»¾å‹• (BannerCarouselView.swift:426-450)

**æ ¸å¿ƒæ¦‚å¿µ**ï¼š
```swift
// åŸå§‹è³‡æ–™: [A, B, C, D]
// æ“´å±•è³‡æ–™: [D] + [A, B, C, D] + [A]
//           â†‘    â†å¯¦éš›å…§å®¹â†’    â†‘
//        å‰ç½®è¤‡è£½             å¾Œç½®è¤‡è£½
```

**å¯¦ä½œé‚è¼¯** (`setupInfiniteScrollItems()`):
```swift
if bannerItems.count == 1 {
    extendedBannerItems = bannerItems  // å–®é …ä¸éœ€è¦ç„¡é™æ»¾å‹•
} else {
    extendedBannerItems = []
    extendedBannerItems.append(bannerItems.last!)   // å‰ç½®
    extendedBannerItems.append(contentsOf: bannerItems)  // å…§å®¹
    extendedBannerItems.append(bannerItems.first!)  // å¾Œç½®
}
```

**é‚Šç•Œè™•ç†** (`handleInfiniteScrollBoundary()`):
- æ»¾å‹•åˆ°ç´¢å¼• 0ï¼ˆå‰ç½®è¤‡è£½ï¼‰â†’ ç„¡å‹•ç•«è·³è½‰åˆ°å¯¦éš›æœ€å¾Œé …
- æ»¾å‹•åˆ°ç´¢å¼• N+1ï¼ˆå¾Œç½®è¤‡è£½ï¼‰â†’ ç„¡å‹•ç•«è·³è½‰åˆ°å¯¦éš›ç¬¬ä¸€é …

---


## ğŸ‘¨â€ğŸ’» ä½œè€…

**Howard Lee** - [GitHub](https://github.com/haoworld886)

---


